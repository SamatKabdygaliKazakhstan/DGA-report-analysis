Автоматизация диагностики состояния трансформаторов на основе анализа DGA-данных и текстовых отчётов. Проект объединяет:

-Анализ временных рядов газов

-Выявление аномалий

-Кластеризация и классификация состояния оборудования

-Поиск похожих текстовых отчётов

Структура проекта:
Данные:
master_dataset.csv — очищенные числовые данные по концентрациям газов.

dirty_reports.csv — необработанные текстовые отчёты, возможно, ручного ввода.

Аналитика и Машинное Обучение:
1. Подготовка данных
Выбраны ключевые газы: H₂, CH₄, C₂H₂, C₂H₄, C₂H₆, CO, CO₂, O₂, H₂O.

Проведена агрегация: суммирование всех значений ppm для каждого газа.

Вычислены классические DGA-индексы:

H₂/CH₄

C₂H₂/C₂H₄

Rogers Ratio = (C₂H₄ + C₂H₆ + C₂H₂) / CH₄

2. Unsupervised Learning (без учителя)
Isolation Forest
Выявляет аномальные точки среди всех замеров.

9055 аномалий среди 316203 записей.

KMeans Кластеризация
Деление данных на 4 кластера.

Это помогает найти повторяющиеся шаблоны деградации оборудования.

Визуализация
pairplot по первым 4 газам (H₂, CH₄, C₂H₂, C₂H₄)
Boxplot по каждому кластеру
Статистика аномалий

3. Feature Engineering & Корреляция
Преобразован Timestamp → year, month

Построена корреляционная матрица для всех признаков

Удалены признаки с высокой корреляцией (corr > 0.7), чтобы избежать переобучения

4. Supervised Learning (с учителем) с псевдометкой
CatBoostClassifier
Кластер используется как псевдо-метка.

Используются признаки: total и ratio

Модель обучена с очень высокой точностью:

Accuracy ~ 99.98%

F1-score ~ 1.0 по всем классам

Валидация
5-кратная кросс-валидация (StratifiedKFold)
Time-based split (по времени) — тоже показала высокую точность
Модели сохранены:
catboost_cluster_predictor.cb — кластерная модель
catboost_supervised.cb — финальная модель на всех данных
NLP: Анализ и поиск по текстовым отчётам

Использовано:
SentenceTransformer (all-MiniLM-L6-v2) — преобразование текста в эмбеддинги
NearestNeighbors (cosine) — поиск похожих текстов
build_index()
Индексирует все строки отчётов (dirty_report)
Сохраняет в .pkl (индекс + мета)
search_similar()
Принимает текстовый запрос (например: "H2 at 120 ppm, CH4 at 30 ppm")
Возвращает топ-5 наиболее похожих текстовых отчётов


Итог: 
Как это помогает пользователю?

Функция	Польза для пользователя

Аномалия/кластеризация	Автоматически обнаруживает подозрительные события и группирует похожие

CatBoost модель	Позволяет моментально предсказать тип/класс события

Индексы DGA	Дают объяснимые инженерные характеристики

Поиск по отчётам	Упрощает работу инженера — можно быстро найти аналогичные случаи
